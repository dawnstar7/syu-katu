# Gemini API セットアップガイド

AI自動収集機能を使うための詳細な手順です。

## 🎯 Gemini APIとは？

Google が提供する生成AIのAPIです。企業名を入力するだけで、AIが自動的に企業情報を収集してくれます。

**無料枠**: 月に60リクエストまで無料（2024年時点）

## 📋 セットアップ手順

### STEP 1: Google AI Studioにアクセス

1. ブラウザで [Google AI Studio](https://aistudio.google.com/app/apikey) を開く
2. Googleアカウントでログイン（持っていない場合は作成）

### STEP 2: APIキーを作成

1. 「Get API key」または「APIキーを作成」ボタンをクリック
2. 2つの選択肢が表示されます：
   - **Create API key in new project**: 新しいプロジェクトを作成（推奨）
   - **Create API key in existing project**: 既存のプロジェクトを使用

3. 「Create API key in new project」を選択
4. APIキーが表示されるので、**コピー**してください
   - ⚠️ このキーは一度しか表示されないので、必ずコピーしてください
   - 紛失した場合は新しいキーを作成する必要があります

### STEP 3: 環境変数ファイルを作成

1. プロジェクトのルートディレクトリ（`job-hunt-app/`）で `.env.local` ファイルを開く
   - すでに存在している場合はそのまま開く
   - 存在しない場合は `.env.local.example` をコピー：
     ```bash
     cp .env.local.example .env.local
     ```

2. `.env.local` を開いて、以下の行を編集：
   ```env
   GEMINI_API_KEY=your-gemini-api-key-here
   ```

   `your-gemini-api-key-here` の部分を、STEP 2でコピーしたAPIキーに置き換えます。

   例：
   ```env
   GEMINI_API_KEY=AIzaSyBxXxXxXxXxXxXxXxXxXxXxXxXxXxX
   ```

3. ファイルを保存

### STEP 4: 開発サーバーを再起動

環境変数を反映させるため、開発サーバーを再起動します。

```bash
# 現在のサーバーを停止（Ctrl + C）
# 再度起動
npm run dev
```

### STEP 5: 動作確認

1. ブラウザで http://localhost:3001 を開く
2. 「企業を追加」ボタンをクリック
3. 企業名を入力（例：「トヨタ自動車」）
4. 「AI自動入力」ボタンをクリック
5. AIが企業情報を自動で取得して入力されることを確認

## 💡 使用例

### 例1: トヨタ自動車

**入力**: 企業名に「トヨタ自動車」と入力

**AI自動入力後の結果**:
- 業界: 自動車製造業
- 従業員数: 約37万人
- 本社所在地: 愛知県豊田市
- ホームページ: https://www.toyota.co.jp/
- 企業説明: 世界最大級の自動車メーカー。ハイブリッド車のプリウスなど...
- 主な職種: エンジニア、営業、企画、製造
- 初任給: 月給21万円〜
- 勤務地: 愛知県、東京都、他全国各地
- 福利厚生: 社会保険完備、住宅手当、リモートワーク可

### 例2: 楽天グループ

**入力**: 企業名に「楽天」と入力

**AI自動入力後の結果**:
- 業界: IT、Eコマース
- 従業員数: 約2万人
- 本社所在地: 東京都世田谷区
- ホームページ: https://www.rakuten.co.jp/
- 企業説明: 楽天市場を運営するインターネットサービス企業...
- 主な職種: エンジニア、データサイエンティスト、マーケティング
- 初任給: 月給30万円〜
- 勤務地: 東京都、他全国各地
- 福利厚生: フレックスタイム制、リモートワーク可、社員割引

## ⚠️ 注意事項

### 料金について

- **無料枠**: 月に60リクエストまで無料
- **有料プラン**: 無料枠を超えると課金が発生します
- **確認方法**: [Google Cloud Console](https://console.cloud.google.com/) で使用量を確認できます

### APIキーの管理

- ⚠️ **絶対にGitにコミットしないでください**
  - `.env.local` は `.gitignore` に含まれているので、通常はコミットされません
  - 万が一コミットしてしまった場合は、すぐにAPIキーを無効化して新しいキーを作成してください

- 🔒 **APIキーを他人に共有しないでください**
  - APIキーを知られると、あなたのアカウントで勝手にAPIを使われる可能性があります

### データの精度について

- AIが取得する情報は100%正確とは限りません
- **必ず内容を確認してから使用してください**
- 古い情報の場合もあるので、公式サイトで最新情報を確認することをおすすめします

### トラブルシューティング

#### 「企業情報の取得に失敗しました」と表示される

1. `.env.local` にAPIキーが正しく設定されているか確認
2. 開発サーバーを再起動
3. APIキーが有効か確認（Google AI Studioで確認）
4. インターネット接続を確認

#### 「Gemini APIキーが設定されていません」と表示される

1. `.env.local` ファイルが存在するか確認
2. ファイル名が `.env.local` になっているか確認（`.env.local.example` ではない）
3. `GEMINI_API_KEY=` の後にAPIキーが入力されているか確認
4. 開発サーバーを再起動

#### AIが間違った情報を返す

- 企業名をより正確に入力してください
  - ❌ 「トヨタ」
  - ✅ 「トヨタ自動車株式会社」

- 公式名称を使用すると精度が上がります

## 🎓 よくある質問

**Q: APIキーはどこに保存されますか？**
A: `.env.local` ファイルに保存されます。このファイルはローカル環境のみで使用され、Gitにコミットされません。

**Q: 無料枠を超えるとどうなりますか？**
A: 課金が発生します。Google Cloud Consoleで予算アラートを設定することをおすすめします。

**Q: APIキーを紛失しました**
A: Google AI Studioで新しいAPIキーを作成してください。古いキーは自動的に無効になりません。

**Q: 他の人と一緒に開発する場合は？**
A: 各自が自分のAPIキーを取得して、それぞれの `.env.local` に設定してください。

**Q: デプロイ時はどうすればいいですか？**
A: Vercelなどのホスティングサービスの環境変数設定で `GEMINI_API_KEY` を設定してください。

## 🔗 参考リンク

- [Google AI Studio](https://aistudio.google.com/)
- [Gemini API ドキュメント](https://ai.google.dev/docs)
- [料金情報](https://ai.google.dev/pricing)
- [Google Cloud Console](https://console.cloud.google.com/)

---

何か問題が発生した場合は、上記のトラブルシューティングを確認してください！
